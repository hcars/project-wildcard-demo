{% extends 'base.html' %}
{% block content %}
<div class="container-md">
    {% if task_list %}
    <ul class="list-group">
        {% for task in task_list %}
        <li class="list-group-item">
            {% if not task.completed %}
            <div class="form-check">
                <form action="{% url 'tasks:check_off' %}" method='post' id="check">
                    {% csrf_token %}
                    <input type="hidden" name="task_id" value='{{task.id}}'>
                    <input class="form-check-input" type="checkbox" onclick="document.getElementById('check').submit();">
                </form>
                <label class="form-check-label badge badge-secondary" for="defaultCheck1">
                    Completed?
                </label>
            <h5>{{ task.task_name }}</h5>
            <p1 class="text-justify">{{ task.task_desc }}</p1>
            </br>
            Start time: {{ task.start_time }}</br>
            End time: {{ task.end_time }}
            </div>
            {% else %}
                <label class="form-check-label badge badge-success" for="defaultCheck2">
                    Completed!
                </label>
            <br>
            <strike>
            <h5>{{ task.task_name }}</h5>
            <p1 class="text-justify">{{ task.task_desc }}</p1>
            </br>
            Start time: {{ task.start_time }}</br>
            End time: {{ task.end_time }}
                </strike>
                {% endif %}
        </li>
        {% endfor %}
    </ul>
    {% else %}
    <p>You have no tasks!</p>
    {% endif %}
</div>
<a href="{% url 'tasks:add_task' %}"><button class="btn-primary">
    Add Task
</button></a>
{% endblock %}
